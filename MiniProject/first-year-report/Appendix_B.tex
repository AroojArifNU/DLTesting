% Adjusting chapter title format for regular (numbered) chapters
\titleformat{\chapter}[display]
  {\normalfont\huge\bfseries\centering}{\chaptertitlename\ \thechapter}{20pt}{\Huge}

% Using similar styling for unnumbered chapters but without "Chapter" prefix
\titleformat{name=\chapter,numberless}
  {\normalfont\huge\bfseries\centering}{}{0pt}{\Huge}

\titlespacing*{\chapter}{0pt}{50pt}{40pt} % Adjust vertical spacing before and after the title

\appendix
   \chapter{Code}
   \label{code}
   \begin{appendix}
    \section{Python Script for Paper Count and Titles Retrieval}
    \begin{lstlisting}[caption={Python script to retrieve paper counts and titles using CrossRef API}, label={lst:crossref_script}]
    import requests 
    keywords = [
        "deep neural network safety", "DNN verification", "DNN testing",
        "deep learning robustness", "neural network adversarial attacks",
        "DNN defense mechanisms", "DNN interpretability",
        "deep learning certification", "neural network validation",
        "machine learning security"
    ]
    def get_paper_counts_and_titles_crossref(keywords, start_year, end_year):
        results = {year: {"count": 0, "titles": []} for year in range(start_year, end_year + 1)}
        for keyword in keywords:
            for year in range(start_year, end_year + 1):
                try:
                    url = f"https://api.crossref.org/works?filter=from-pub-date:{year}-01-01,until-pub-date:{year}-12-31&query={keyword}&rows=1000"
                    response = requests.get(url)
                    data = response.json()
                    if 'message' in data and 'items' in data['message']:
                        results[year]["count"] += data['message']['total-results']
                        for item in data['message']['items']:
                            if 'title' in item and item['title']:
                                results[year]["titles"].append(item['title'][0])
                    else:
                        print(f"Unexpected response for keyword '{keyword}' year {year}: {data}")
                except Exception as e:
                    print(f"Error fetching data for keyword '{keyword}' year {year}: {e}")
        return results
    start_year = 2008
    end_year = 2023
    paper_counts_and_titles = get_paper_counts_and_titles_crossref(keywords, start_year, end_year) 
    for year, data in paper_counts_and_titles.items():
        print(f"Year: {year}, Number of papers: {data['count']}")
        for title in data["titles"]:
            print(f" - {title}")

    \end{lstlisting}
    \end{appendix}